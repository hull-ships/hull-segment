{
  "name": "Segment",
  "description": "Complete control over your customer data with Hull and Segment",
  "tags": ["incoming", "outgoing", "batch", "oneColumn"],
  "index":"ship.js",
  "picture": "picture.png",
  "ui": false,
  "admin" : "admin.html",
  "readme" : "readme.md",
  "version": "0.1.3",
  "deployment_settings":[
    {
      "name"       : "_selector",
      "default"    : "body",
      "type"       : "string",
      "format"     : "string"
    },
    {
      "name"       : "_placement",
      "default"    : "append",
      "type"       : "string",
      "format"     : "string"
    }
  ],
  "settings": [],
  "private_settings": [
    {
      "name": "sync_out_info",
      "title": "Outgoing Data (Hull as Source)",
      "format": "title",
      "type": "string"
    },
    {
      "name": "sending_hero",
      "title": "Important Note",
      "headerTemplate": "**Users can only be send to segment.com when at least one identifier is present, this can be either the `External ID` or one or more `Anonymous IDs`.**",
      "format": "information",
      "type": "string"
    },
    {
      "name":"write_key",
      "title": "Write Key to send data to Segment.com API",
      "description":"Find it under Settings > API Keys > Write Key in your Segment.com workspace.",
      "type": "string",
      "format": "text"
    },
    {
      "name": "synchronized_segments",
      "title": "Send users to Segment.com when belonging to one of these segments",
      "type": "array",
      "format": "segment",
      "items": {
        "type": "string"
      },
      "default": []
    },
    {
      "name": "synchronized_segments_hero",
      "type": "string",
      "headerTemplate": "The above list of segments is a whitelist. **By default all users are sent to Segment.com* with the attributes specified below.<br>As soon as you specify one or more segments, only users belonging to one these segments and associated events will be sent to Segment.com.",
      "format": "information",
      "title": "Whitelisted Segments"
    },
    {
      "name": "synchronized_properties",
      "title": "Send the following attributes as traits",
      "description": "Sends the list of segments as trait `hull_segments` by default, plus any additional attributes specified here.",
      "type": "array",
      "format": "trait",
      "items": {
        "type": "string"
      },
      "default": []
    },
    {
      "name": "send_events",
      "title": "Send the following events for whitelisted users",
      "description" : "Sends all events, if not specified.",
      "type": "array",
      "format": "event",
      "default": ["Entered segment", "Left segment"]
    },
    {
      "name" : "forward_events",
      "title" : "Enable forwarding of events received from Segment.com",
      "description" : "ONLY enable this feature when the Write Key is from a different workspace. Read the manual before making any changes; this can result in an endless loop of events.",
      "type" : "boolean",
      "default" : false
    },
    {
      "name" : "public_id_field",
      "title" : "User ID",
      "description" : "Attribute to use as `userId` in the segment payload. Warning: This can affect your MTUs.",
      "type" : "string",
      "enum" : [ "id", "external_id" ],
      "default" : "external_id",
      "format" : "hidden"
    },
    {
      "name": "sync_in_info",
      "title": "Incoming Data (Hull as Destination)",
      "format": "title",
      "type": "string"
    },
    {
      "name" : "handle_pages",
      "title" : "Store Page Calls",
      "description" : "Record whenever a user sees a page of your website. This can result in a lot of events which affect your pricing.",
      "type" : "boolean",
      "default" : false
    },
    {
      "name" : "handle_screens",
      "title" : "Store Screen Calls",
      "description" : "Screen calls let you record whenever a user sees a screen on a mobile app. This can result in a lot of events which affect your pricing.",
      "type" : "boolean",
      "default" : false
    },
    {
      "name": "ignore_segment_userId",
      "title": "Ignore User ID",
      "description": "Ignore `userId` received from segment.com, use the email or anonymousId as identifier instead.",
      "type": "boolean",
      "default": false,
      "format": "hidden"
    },
    {
      "name": "group_calls_hero",
      "type": "string",
      "headerTemplate": "Group calls associate an individual user with a groupâ€”be it a company, organization, account, project, team or whatever you come up with. A user can be in multiple groups in segment, however **Hull will handle only one group**. Consecutive group calls will overwrite the attributes in Hull. For further information, please read the Instructions.",
      "format": "information",
      "title": "-- Group calls from Segment.com --"
    },
    {
      "name" : "handle_groups",
      "title" : "Handle Groups",
      "description" : "Handle group attributes as user traits, prefixed with 'group/'",
      "type" : "boolean",
      "default" : false
    },
    {
      "name" : "handle_accounts",
      "title" : "Handle Accounts",
      "description" : "Handle group attributes as account traits",
      "type" : "boolean",
      "default" : false
    }
  ],
  "resources": [],
  "subscriptions" : [ { "url" : "/notify" } ]
}
